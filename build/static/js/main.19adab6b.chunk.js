(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{119:function(e,t,a){e.exports=a(160)},124:function(e,t,a){},125:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),i=(a(124),a(125),a(73)),s=a(191),l=a(193),u=a(166),m=a(194),d=a(195),b=a(90),f=a.n(b),O=a(88),p=a.n(O),v=Object(i.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},AppBar:{backgroundColor:"#40B5DC"}}}));function g(){var e=v();return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"static",className:e.AppBar},r.a.createElement(l.a,null,r.a.createElement(m.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement("img",{src:p.a,alt:"logo"})),r.a.createElement(u.a,{variant:"h6",className:e.title}),r.a.createElement(d.a,{color:"inherit"},r.a.createElement(f.a,null)))))}var E=a(26),h=a(50),j=a.n(h),S=a(64),y=a(24),w=a(93),D=a(197),k=a(96),C=a(98),_=a(18),x=a(198),I=a(65),P=a.n(I),B=a(58);function N(){var e=Object(n.useState)(),t=Object(y.a)(e,2)[1],a=Object(n.useCallback)((function(){return t({})}),[]),c=Object(n.useState)("1"),o=Object(y.a)(c,1)[0],i=Object(n.useState)(null),s=Object(y.a)(i,2),l=s[0],u=s[1],d=Object(n.useState)(null),b=Object(y.a)(d,2),f=b[0],O=b[1],p=Object(n.useState)(null),v=Object(y.a)(p,2),g=v[0],h=v[1];Object(n.useEffect)((function(){(function(){var e=Object(S.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("http://0.0.0.0:9000/cars/".concat(o));case 2:t=e.sent,a=t.data,h(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,f]);var I=function(e){if(!l&&!f)return R();var t=Object(w.a)({start:e.start,end:e.end}),n=t.map((function(e){return e.toISOString()}));if(t.some((function(e){return g.reservations.includes(e.toISOString())})))return F();e.bookingIsDone?(function(){var e=Object(S.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.reservations=Object(E.a)(new Set([].concat(Object(E.a)(g.reservations),Object(E.a)(n)))),e.next=3,P.a.put("http://0.0.0.0:9000/cars/".concat(o),{model:g.model,license:g.license,reservations:g.reservations});case 3:h(g);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),N("\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d",{variant:"success"}),a()):A()},N=Object(B.useSnackbar)().enqueueSnackbar,F=function(){N("\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0432\u0430\u043c\u0438 \u043f\u0435\u0440\u0438\u043e\u0434 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",{variant:"error"})},A=function(){N("\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",{variant:"success"})},R=function(){N("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",{variant:"warning"})},L=new Date("2019/01/01"),T=new Date("2019/01/31");return r.a.createElement(r.a.Fragment,null,g?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u0442 \u0434\u043b\u044f \u0430\u0432\u0442\u043e \u043c\u043e\u0434\u0435\u043b\u044c:",g.model," \u0440\u0435\u0433.\u043d\u043e\u043c\u0435\u0440:",g.license," "),r.a.createElement(_.a,{utils:k.a,locale:C.a},r.a.createElement(D.a,{container:!0,justify:"center"},r.a.createElement(D.a,{item:!0,xs:6,justify:"center"},r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(x.b,{shouldDisableDate:function(e){return g.reservations.includes(e.toISOString())},autoOk:!0,clearable:!0,margin:"normal",id:"start-date-picker",label:"Start date",format:"dd/MM/yyyy",value:l,onChange:function(e){u(e),e&&f&&e<=f&&I({start:e,end:f})},KeyboardButtonProps:{"aria-label":"change date"},minDate:L,maxDate:f||T}),r.a.createElement(x.b,{shouldDisableDate:function(e){return g.reservations.includes(e.toISOString())},autoOk:!0,clearable:!0,margin:"normal",id:"end-date-picker",label:"End date",format:"dd/MM/yyyy",value:f,onChange:function(e){O(e),e&&l&&e>=l&&I({start:l,end:e})},KeyboardButtonProps:{"aria-label":"change date"},minDate:l||L,maxDate:T})),r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){return I({start:l,end:f,bookingIsDone:!0})}},"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement(x.a,{value:L,shouldDisableDate:function(e){return g.reservations.includes(e.toISOString())},readOnly:!0,variant:"static",margin:"normal",onChange:function(e){},KeyboardButtonProps:{"aria-label":"change date"}})))):r.a.createElement("h3",null,"Loading..."))}var F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(97),R=a(48),L=a(9),T="FETCH_CAR_INFO_REQUEST",M="FETCH_CAR_INFO_SUCCESS",U="FETCH_CAR_INFO_FAILURE";function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){Object(L.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G={id:"1",model:"creta",license:"\u0410111\u0410\u0410750",reservations:[].concat(Object(E.a)(Object(w.a)({start:new Date("2019/01/01"),end:new Date("2019/01/05")})),[new Date("2019/01/10")])},J=a(95),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.c,X=Object(R.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case T:return K({},e,{isLoading:!0,isSuccess:!1});case M:return K({},e,{isLoading:!1,isSuccess:!0},n);case U:return K({},e,{isLoading:!1,isSuccess:!1});default:return e}}),W(Object(R.a)(J.a)));o.a.render(r.a.createElement("div",null,r.a.createElement(A.a,{store:X},r.a.createElement(B.SnackbarProvider,{maxSnack:1},r.a.createElement(F,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e,t,a){e.exports=a.p+"static/media/logo-white.38e93baf.svg"}},[[119,1,2]]]);
//# sourceMappingURL=main.19adab6b.chunk.js.map